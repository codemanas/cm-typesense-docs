
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="codemanas">
      
      
      
        <link rel="prev" href="../wp-cli/">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.3.1">
    
    
      
        <title>Typsesense Search for WooCommerce - Search with Typesense</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inclusive+Sans:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Inclusive Sans";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="custom" data-md-color-accent="deep-orange">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduction" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Search with Typesense" class="md-header__button md-logo" aria-label="Search with Typesense" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Search with Typesense
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Typsesense Search for WooCommerce
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/codemanas/cm-typesense-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Search with Typesense" class="md-nav__button md-logo" aria-label="Search with Typesense" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    Search with Typesense
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/codemanas/cm-typesense-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../shortcode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shortcode
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../debug/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Debugging
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Advanced
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Advanced
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../template-overriding/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overriding Template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../customizing-instant-search-widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing Widgets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../changing-widgets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Changing Widgets
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-custom-post-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Custom Post Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../advanced-custom-taxonomy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding Taxonomy as Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../unset-cat-from-page/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unsetting category from page schema
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../customizing-default-hit-template/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customizing default result template
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../wp-cli/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    WP CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Addons
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Addons
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Typsesense Search for WooCommerce
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Typsesense Search for WooCommerce
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-requirements" class="md-nav__link">
    Minimum Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activate-license" class="md-nav__link">
    Activate License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-products" class="md-nav__link">
    Indexing products
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shortcodes" class="md-nav__link">
    Shortcodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instant-search" class="md-nav__link">
    Instant search
  </a>
  
    <nav class="md-nav" aria-label="Instant search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autocomplete-search" class="md-nav__link">
    Autocomplete search
  </a>
  
    <nav class="md-nav" aria-label="Autocomplete search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    Options:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#template-overwriting" class="md-nav__link">
    Template Overwriting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-hooks-filter-hooks-extending-plugin" class="md-nav__link">
    Action Hooks &amp; Filter Hooks / Extending Plugin
  </a>
  
    <nav class="md-nav" aria-label="Action Hooks & Filter Hooks / Extending Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-hooks" class="md-nav__link">
    Filter Hooks:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-hooks" class="md-nav__link">
    Action Hooks:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-per-page-dropdown-values-on-frontend" class="md-nav__link">
    Change per page dropdown values on frontend
  </a>
  
    <nav class="md-nav" aria-label="Change per page dropdown values on frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it" class="md-nav__link">
    How to do it:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-custom-taxonomy-as-filters" class="md-nav__link">
    Adding custom taxonomy as filters
  </a>
  
    <nav class="md-nav" aria-label="Adding custom taxonomy as filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_1" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it_1" class="md-nav__link">
    How to do it:
  </a>
  
    <nav class="md-nav" aria-label="How to do it:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-the-document-data-to-be-indexed-as-facet" class="md-nav__link">
    Format the document data to be indexed as Facet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-the-filter" class="md-nav__link">
    Displaying the filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-static-code-widgets-to-the-sidebar" class="md-nav__link">
    Adding static code / widgets to the sidebar
  </a>
  
    <nav class="md-nav" aria-label="Adding static code / widgets to the sidebar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_2" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it_2" class="md-nav__link">
    How to do it:
  </a>
  
    <nav class="md-nav" aria-label="How to do it:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cm_tsfwc_filter_panel_output-hook" class="md-nav__link">
    Use cm_tsfwc_filter_panel_output hook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-attribute-filter" class="md-nav__link">
    Removing attribute filter
  </a>
  
    <nav class="md-nav" aria-label="Removing attribute filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_3" class="md-nav__link">
    Use Case:
  </a>
  
    <nav class="md-nav" aria-label="Use Case:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cm_tsfwc_attribute_facet_skip-hook" class="md-nav__link">
    Use cm_tsfwc_attribute_facet_skip hook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-attribute-widget-type" class="md-nav__link">
    Changing attribute widget type
  </a>
  
    <nav class="md-nav" aria-label="Changing attribute widget type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-category-filter" class="md-nav__link">
    Changing type of widget in Category filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-price-filter" class="md-nav__link">
    Changing type of widget in Price filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-rating-filter" class="md-nav__link">
    Changing type of widget in Rating filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-attribute-filters" class="md-nav__link">
    Changing type of widget in Attribute filters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addingchanging-facets-settings" class="md-nav__link">
    Adding/changing facets settings
  </a>
  
    <nav class="md-nav" aria-label="Adding/changing facets settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-category-filter" class="md-nav__link">
    Changing facet settings in Category filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-price-filter" class="md-nav__link">
    Changing facet settings in Price filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-rating-filter" class="md-nav__link">
    Changing facet settings in Rating filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-custom-attribute-filter" class="md-nav__link">
    Changing facet settings in Custom Attribute filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wpml-integration" class="md-nav__link">
    WPML Integration
  </a>
  
    <nav class="md-nav" aria-label="WPML Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    Pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wpml-translation-modes-and-tools" class="md-nav__link">
    WPML Translation modes and tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-content" class="md-nav__link">
    Translating Content:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-products_1" class="md-nav__link">
    Indexing Products:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-plugin-strings" class="md-nav__link">
    Translating Plugin Strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-category-menu-filter-a-hierarchical-menu" class="md-nav__link">
    Making category menu filter a hierarchical menu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-search-parameters-for-default-search-configuration" class="md-nav__link">
    Additional search parameters for default search configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-only-after-certain-character-length" class="md-nav__link">
    Search only after certain character length
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#features" class="md-nav__link">
    Features
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#minimum-requirements" class="md-nav__link">
    Minimum Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    Installation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    Getting started
  </a>
  
    <nav class="md-nav" aria-label="Getting started">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activate-license" class="md-nav__link">
    Activate License
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-products" class="md-nav__link">
    Indexing products
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings" class="md-nav__link">
    Settings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shortcodes" class="md-nav__link">
    Shortcodes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instant-search" class="md-nav__link">
    Instant search
  </a>
  
    <nav class="md-nav" aria-label="Instant search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options" class="md-nav__link">
    Options:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#autocomplete-search" class="md-nav__link">
    Autocomplete search
  </a>
  
    <nav class="md-nav" aria-label="Autocomplete search">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#options_1" class="md-nav__link">
    Options:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#template-overwriting" class="md-nav__link">
    Template Overwriting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#action-hooks-filter-hooks-extending-plugin" class="md-nav__link">
    Action Hooks &amp; Filter Hooks / Extending Plugin
  </a>
  
    <nav class="md-nav" aria-label="Action Hooks & Filter Hooks / Extending Plugin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#filter-hooks" class="md-nav__link">
    Filter Hooks:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#action-hooks" class="md-nav__link">
    Action Hooks:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#change-per-page-dropdown-values-on-frontend" class="md-nav__link">
    Change per page dropdown values on frontend
  </a>
  
    <nav class="md-nav" aria-label="Change per page dropdown values on frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it" class="md-nav__link">
    How to do it:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-custom-taxonomy-as-filters" class="md-nav__link">
    Adding custom taxonomy as filters
  </a>
  
    <nav class="md-nav" aria-label="Adding custom taxonomy as filters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_1" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it_1" class="md-nav__link">
    How to do it:
  </a>
  
    <nav class="md-nav" aria-label="How to do it:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format-the-document-data-to-be-indexed-as-facet" class="md-nav__link">
    Format the document data to be indexed as Facet
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#displaying-the-filter" class="md-nav__link">
    Displaying the filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-static-code-widgets-to-the-sidebar" class="md-nav__link">
    Adding static code / widgets to the sidebar
  </a>
  
    <nav class="md-nav" aria-label="Adding static code / widgets to the sidebar">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_2" class="md-nav__link">
    Use Case:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-do-it_2" class="md-nav__link">
    How to do it:
  </a>
  
    <nav class="md-nav" aria-label="How to do it:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cm_tsfwc_filter_panel_output-hook" class="md-nav__link">
    Use cm_tsfwc_filter_panel_output hook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#removing-attribute-filter" class="md-nav__link">
    Removing attribute filter
  </a>
  
    <nav class="md-nav" aria-label="Removing attribute filter">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-case_3" class="md-nav__link">
    Use Case:
  </a>
  
    <nav class="md-nav" aria-label="Use Case:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-cm_tsfwc_attribute_facet_skip-hook" class="md-nav__link">
    Use cm_tsfwc_attribute_facet_skip hook
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#changing-attribute-widget-type" class="md-nav__link">
    Changing attribute widget type
  </a>
  
    <nav class="md-nav" aria-label="Changing attribute widget type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-category-filter" class="md-nav__link">
    Changing type of widget in Category filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-price-filter" class="md-nav__link">
    Changing type of widget in Price filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-rating-filter" class="md-nav__link">
    Changing type of widget in Rating filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-type-of-widget-in-attribute-filters" class="md-nav__link">
    Changing type of widget in Attribute filters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#addingchanging-facets-settings" class="md-nav__link">
    Adding/changing facets settings
  </a>
  
    <nav class="md-nav" aria-label="Adding/changing facets settings">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-category-filter" class="md-nav__link">
    Changing facet settings in Category filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-price-filter" class="md-nav__link">
    Changing facet settings in Price filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-rating-filter" class="md-nav__link">
    Changing facet settings in Rating filter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-facet-settings-in-custom-attribute-filter" class="md-nav__link">
    Changing facet settings in Custom Attribute filter
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wpml-integration" class="md-nav__link">
    WPML Integration
  </a>
  
    <nav class="md-nav" aria-label="WPML Integration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    Pre-requisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wpml-translation-modes-and-tools" class="md-nav__link">
    WPML Translation modes and tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-content" class="md-nav__link">
    Translating Content:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexing-products_1" class="md-nav__link">
    Indexing Products:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#translating-plugin-strings" class="md-nav__link">
    Translating Plugin Strings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#making-category-menu-filter-a-hierarchical-menu" class="md-nav__link">
    Making category menu filter a hierarchical menu
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-search-parameters-for-default-search-configuration" class="md-nav__link">
    Additional search parameters for default search configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#search-only-after-certain-character-length" class="md-nav__link">
    Search only after certain character length
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="introduction">Introduction</h1>
<p>Typsense Search for WooCommerce is a premimum addon that provides robust, fast search functionality for WooCommerce products on your website. </p>
<h2 id="features">Features</h2>
<ul>
<li>Lightning-fast products search results in miliseconds</li>
<li>Allow to override WooCommerce product search</li>
<li>Allow to hijack WooCommerce shop and archive pages</li>
<li>Provides result in WooCommerce default HTML structure</li>
<li>Provides all the features for search and filter provided by WooCommerce but in a better and fast way</li>
<li>Provides shortcodes for adding search in only specific locations.</li>
<li>Hooks and filters for customizations</li>
<li>Template Override for design customizations.</li>
</ul>
<h2 id="minimum-requirements">Minimum Requirements</h2>
<ul>
<li>PHP 7.4 required or greater</li>
<li>MySQL 5.6 or greater is recommended</li>
<li><a href="https://wordpress.org/plugins/search-with-typesense/" target="_blank" rel="no-opener no-follow" >Search with Typsense</a></li>
<li><a href="https://wordpress.org/plugins/woocommerce/" target="_blank" rel="no-opener no-follow" >WooCommerce</a></li>
</ul>
<hr />
<h2 id="installation">Installation</h2>
<ol>
<li>After purchasing from <a href="https://codemanas.com/">Codemanas</a>, download the zip file</li>
<li>Then on your site's dashboard, go to <strong>WordPress Plugins &gt; Add New &gt; Search for "Search with Typesense"</strong></li>
<li>Click Install and then activate Plugin </li>
</ol>
<hr />
<h2 id="getting-started">Getting started</h2>
<h3 id="activate-license">Activate License</h3>
<p>After activating the plugin, go to <strong>Typesense-&gt;Addons</strong>, then activate the license.</p>
<p><img alt="License Activate" src="../img/Activation.png" /></p>
<h3 id="indexing-products">Indexing products</h3>
<p>First you need to index i.e. push data to Typsense cloud. To do so, follow the below steps:</p>
<ol>
<li>Go to <strong>Typsense-&gt;Typesense</strong></li>
<li>Select the <strong>Products</strong> post type from the dropdown in <strong>Select Posts Types to Enable</strong></li>
<li>Then you can set the Products' <strong>label</strong> and <strong>max suggetion</strong> to be listed on autocomplete.</li>
<li>After that, click the <strong>Index</strong> button to index. It may take few minutes depending upon the number of products you have.</li>
<li>When the indexing is complete, you will get the success message and process is complete.</li>
</ol>
<p><img alt="Product Indexing" src="../img/Search.png" /></p>
<h3 id="settings">Settings</h3>
<p>The plugin provides the following default settings at <strong>Typesense-&gt;WooCommerce</strong>:</p>
<ol>
<li>
<p><strong>Replace Shop with Typesense</strong> - Replace shop with typesense search.</p>
</li>
<li>
<p><strong>Choose what Filters to Enable</strong> - Choose what filters to enable.</p>
<ul>
<li><strong>category</strong> - Enable category filtering</li>
<li><strong>brands</strong> - Enable brands filtering</li>
<li><strong>price</strong> - Enable price filtering</li>
<li><strong>rating</strong> - Enable filtering by rating</li>
<li><strong>attributes</strong> - Enable filter by attributes</li>
<li><strong>sortby</strong> - Enable sortby<ul>
<li><strong>Recent</strong></li>
<li><strong>Oldest</strong></li>
<li><strong>Sort by rating: low to high</strong></li>
<li><strong>Sort by rating: high to low</strong></li>
<li><strong>Sort by price: low to high</strong></li>
<li><strong>Sort by price: high to low</strong></li>
<li><strong>Sort by Popularity</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Pagination</strong> - Enable pagination of your choosing.</p>
<ul>
<li>Default - Enable the default pagination.</li>
<li>Infinite - Enable the infinite pagination with 'show more' button.<ul>
<li>Show More Text - This option is visible when you select the 'Infinite' option. After clicking the option it changes the text to 'show more .'</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Routing</strong> - Enabling this option will activate routing, allowing you to share the URL with the applied filter.</p>
<ul>
<li>Search placeholder - Change placeholder text on the shop's search</li>
</ul>
</li>
<li>
<p><strong>Replace Product Search</strong> - Replace product search with autocomplete search or instant search popup or show featured first.</p>
<ul>
<li>Autocomplete Search - Uses autocomplete search for product.</li>
<li>Instant Search Popup - Uses instant search and shows results in popup format.</li>
<li>Show featured first - shows the featured product first.</li>
</ul>
</li>
<li>
<p><strong>Global Autocomplete Settings</strong> -Autocomplete the Submit button action that you choose.</p>
<ul>
<li>Keep Autocomplete Panel open -  Uses the autocomplete panel open for users </li>
<li>Use Default Product Search - Uses the default panel for users.</li>
</ul>
</li>
<li>
<p><strong>Advanced Settings</strong> - Gives the settings for more features.</p>
<ul>
<li><strong>Make the default Category filter hierarchical menu</strong> - makes a default categories filter menu.<ul>
<li>Please note that enabling it will be resource heavy for your site. Products need to be Delete and Re-indexed.</li>
<li>What is Hierarchical Menu? <a href = "https://docs.wptypesense.com/tsfwc/#making-category-menu-filter-a-hierarchical-menu">Learn More</a></li>
</ul>
</li>
</ul>
</li>
</ol>
<p><img alt="Product Setting" src="../img/Settings.png" /></p>
<p><strong>Note:</strong> Same settings are provided in <strong>Dashboard-&gt;Customize</strong> then <strong>WooCommerce-&gt;Typesense Settings</strong> for previewing the live changes.</p>
<p><img alt="Product Customizer Setting" src="../img/Customize.png" /></p>
<h2 id="shortcodes">Shortcodes</h2>
<h2 id="instant-search">Instant search</h2>
<p>Displays the instant search with products.</p>
<p><code>[cm_tsfwc_search cat_filter='show' price_filter='show' rating_filter='show' attribute_filter='show' pagination='show' sortby='show' placeholder='Search products...' show_featured_first='no']</code></p>
<h5 id="options">Options:</h5>
<p><strong>cat_filter</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the category filter</li>
<li>Default value: "show"</li>
</ul>
<p><strong>brands_filter</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the brands filter</li>
<li>Default value: "show"</li>
</ul>
<p><em>Note: Introduced from version 1.8.0 with the introduction of Brands custom taxonomy in WooCommerce v9.6. You need to </em><em>Delete &amp; Re-Index</em><em> for this to work properly and enable it.</em></p>
<p><strong>price_filter</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the price filter</li>
<li>Default value: "show"</li>
</ul>
<p><strong>rating_filter</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the rating filter</li>
<li>Default value: "show"</li>
</ul>
<p><strong>attribute_filter</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the attribute filter</li>
<li>Default value: "show"</li>
</ul>
<p><strong>pagination</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code> or <code>infinite</code></li>
<li>Description: Determines the showing or hiding or showing infinite results of pagination<ul>
<li><code>show</code>: shows pagination.</li>
<li><code>hide</code>: hides pagination.</li>
<li><code>infinite</code>: shows a button for infinite results on button click.</li>
</ul>
</li>
<li>Default value: "show"</li>
</ul>
<p><strong>routing</strong></p>
<ul>
<li>Value: <code>enable</code> or <code>disable</code></li>
<li>Description: Enabling this will activate routing, allowing you to share the URL with the applied filter.</li>
<li>Default value: "disable"</li>
</ul>
<p><strong>sortby</strong></p>
<ul>
<li>Value: <code>show</code> or <code>hide</code></li>
<li>Description: Determines the showing or hiding of the sortby filter</li>
<li>Default value: "show"</li>
</ul>
<p><strong>placeholder</strong></p>
<ul>
<li>Value: Any string</li>
<li>Description: Placeholder text for the search input field</li>
<li>Default value: "Search products"</li>
</ul>
<p><strong>show_featured_first</strong></p>
<ul>
<li>Value: <code>yes</code> or <code>no</code></li>
<li>Description: Show the featured products first on the listing while searching or filtering</li>
<li>Default value: "no"</li>
</ul>
<p><strong><em>query_by</em></strong></p>
<ul>
<li>Values: string (Advanced Usage <a href="https://typesense.org/docs/0.22.1/api/documents.html#search">the typesense documentation</a>)</li>
<li>Description: Query results by these fields</li>
<li>Default: <code>post_title,post_content</code></li>
</ul>
<h2 id="autocomplete-search">Autocomplete search</h2>
<p>Displays the autocomplete form to search products.</p>
<p><code>[cm_tsfwc_autocomplete_search placeholder="Search products"]</code></p>
<h5 id="options_1">Options:</h5>
<p><strong>placeholder</strong></p>
<ul>
<li>Value: string</li>
<li>Description: Placeholder text for the search form</li>
<li>Default value: empty</li>
</ul>
<h2 id="template-overwriting">Template Overwriting</h2>
<p>Overriding the template allows you to change the output for the product listing design as you need to.</p>
<p>The templates are in the plugin <code>typesense-search-for-woocommerce/templates</code> and you can override it by copying it to your theme.</p>
<p>To override, copy files from <code>wp-content/plugins/typesense-search-for-woocommerce/templates/</code> folder to <code>wp-content/themes/your-theme/search-with-typesense/woocommerce</code>. Then you can make the changes as you need.</p>
<p>For example: if you want the filters to show up on the right instead of the left. </p>
<ul>
<li>
<p>Copy the file <code>instant-search.php</code> from <code>typesense-search-for-woocommerce/templates/instant-search.php</code> to <code>your-theme/search-with-typesense/woocommerce/instant-search.php</code>. </p>
</li>
<li>
<p>And change the div structure so that <code>filter-panel</code> is after <code>main-panel</code>.</p>
</li>
</ul>
<p><em>End result:</em>
<img alt="Product Indexing" src="../img/result.png" /></p>
<h2 id="action-hooks-filter-hooks-extending-plugin">Action Hooks &amp; Filter Hooks / Extending Plugin</h2>
<p>There are plenty of Hooks and Filters provided by the plugin to allow developers to customize or add additional functionality to the plugin</p>
<h3 id="filter-hooks">Filter Hooks:</h3>
<p>Please see <a href="https://developer.wordpress.org/plugins/hooks/filters/">https://developer.wordpress.org/plugins/hooks/filters/</a> for details of what filters are in WordPress.</p>
<p><strong>cm_tsfwc_per_page_config</strong></p>
<ul>
<li>Description: Change the per page listing and values</li>
<li>Arguments: <code>$per_page_config</code> Array of configs with label and value   </li>
<li>Default value:</li>
</ul>
<pre><code>    [
        [ 'label' =&gt; 'Per page', 'value' =&gt; $atts['per_page'], 'default' =&gt; true ],
        [ 'label' =&gt; '10 per page', 'value' =&gt; 10 ],
        [ 'label' =&gt; '20 per page', 'value' =&gt; 20 ],
        [ 'label' =&gt; '30 per page', 'value' =&gt; 30 ],
        [ 'label' =&gt; '40 per page', 'value' =&gt; 40 ],
        [ 'label' =&gt; '50 per page', 'value' =&gt; 50 ],
    ]
</code></pre>
<p><strong>cm_tsfwc_product_fields</strong></p>
<ul>
<li>Description: Add new fields to schema to be indexed.</li>
<li>Arguments: <code>$product_fields</code> Array of fields to be indexed.</li>
</ul>
<p><strong>cm_tsfwc_data_before_entry</strong></p>
<ul>
<li>Description: Add the formatted data to the added fields.</li>
<li>Arguments:<ul>
<li><code>$formatted_data</code> Array of data to be returned.</li>
<li><code>$raw_data</code> Raw data containing product object </li>
<li><code>$object_id</code> Object ID passed</li>
<li><code>$schema_name</code> Name of the schema which is <code>product</code> in this case.</li>
</ul>
</li>
</ul>
<h3 id="action-hooks">Action Hooks:</h3>
<p>Please see <a href="https://developer.wordpress.org/plugins/hooks/actions/">https://developer.wordpress.org/plugins/hooks/actions/</a> for details of what action hooks are in WordPress.</p>
<p><strong>cm_tsfwc_custom_attributes</strong></p>
<ul>
<li>Description: Hook to add custom attributes HTML to the structure</li>
<li>Location: <code>templates/instant-search.php</code></li>
</ul>
<h2 id="change-per-page-dropdown-values-on-frontend">Change per page dropdown values on frontend</h2>
<h3 id="use-case">Use Case:</h3>
<p>What if you want to change the 10 per page, 20 per page and so on value to your own custom, let's say 50 per page, 100 per page and so on.</p>
<h3 id="how-to-do-it">How to do it:</h3>
<p>The plugin provides a filter: <code>cm_tsfwc_per_page_config</code> to change it.</p>
<p>You can use it like below:</p>
<pre><code>add_filter( 'cm_tsfwc_per_page_config', 'your_slug_change_per_page' );

function your_slug_change_per_page( $per_page_config ) {
    $per_page_config = [
        [ 'label' =&gt; '50 per page', 'value' =&gt; 50, 'default' =&gt; true ], // one value should always have 'default' =&gt; true
        [ 'label' =&gt; '100 per page', 'value' =&gt; 100 ],
        [ 'label' =&gt; '150 per page', 'value' =&gt; 150 ],
        [ 'label' =&gt; '200 per page', 'value' =&gt; 200 ],
    ];
    return $per_page_config;
}
</code></pre>
<h2 id="adding-custom-taxonomy-as-filters">Adding custom taxonomy as filters</h2>
<h3 id="use-case_1">Use Case:</h3>
<p>Suppose you want to add tags ( or any other custom taxonomy ) filter to the shop/archive page other than the default ones provided by the addon. </p>
<h3 id="how-to-do-it_1">How to do it:</h3>
<h4 id="format-the-document-data-to-be-indexed-as-facet">Format the document data to be indexed as Facet</h4>
<p>To add a new Facet you need to add it as .*_attribute_filter, so if you want to add product_tags  you can add it as 
product_tags_attribute_filter</p>
<pre><code>add_filter( 'cm_tsfwc_data_before_entry', 'your_slug_add_data_before_entry', 10, 4 );

function your_slug_add_data_before_entry( $formatted_data, $raw_data, $object_id, $schema_name ) {

    if( $schema_name === 'product' ) { // only add data if the schema is product 

        $product_tags = get_the_terms( $object_id, 'product_tag' );

        $product_tags_arr = [];

        if( ! is_wp_error( $product_tags ) ) {
            foreach( $product_tags as $product_tag ) {
                $product_tags_arr[] = $product_tag-&gt;name;
            }
        } else {
            $product_tags_arr = []; // Only array can be pushed to the data. When no data, empty array is the must
        }

        $formatted_data['product_tags_attribute_filter'] = $product_tags_arr;
    }

    return $formatted_data;

}

</code></pre>
<h3 id="displaying-the-filter">Displaying the filter</h3>
<p>To display the filter on the frontend, use the action hook <code>cm_tsfwc_custom_attributes</code> like below:</p>
<pre><code>add_action( 'cm_tsfwc_custom_attributes', 'your_slug_add_custom_attr' );

function your_slug_add_custom_attr() {
    echo '&lt;div 
    data-attr_facet_name=&quot;product_tags_attribute_filter&quot; 
    data-title =&quot;' . __( &quot;Filter by Tags&quot;, 'storefront' ) . '&quot; 
    data-attr_label =&quot;' . __( &quot;Tags&quot;, 'storefront' ) . '&quot;
    class=&quot;cm-tsfwc-shortcode-tags-attribute-filters&quot; 
    data-filter_type=&quot;refinementList&quot;
    data-settings=&quot;' . _wp_specialchars( json_encode( [ &quot;searchable&quot; =&gt; false ] ), ENT_QUOTES, &quot;UTF-8&quot;, true ) . '&quot;
    &gt;&lt;/div&gt;';
}

</code></pre>
<ul>
<li>
<p><code>data-attr_facet_name</code>: It should same as the name of the field added before. 
                   For example: here name of the field added before is <code>'product_tags_attribute_filter'</code> so the <code>data-attr_facet_name</code> should be <code>product_tags_attribute_filter</code></p>
</li>
<li>
<p><code>data-title</code>: Title for the filter</p>
</li>
<li>
<p><code>data-filter_type</code>: Type of filter to use</p>
<ul>
<li>
<p>Values: <code>refinementList</code> <code>rangeSlider</code> <code>rangeInput</code> <code>menu</code> <code>dropdown</code></p>
</li>
<li>
<p><em>Note:  For <code>rangeSlider</code> and <code>rangeInput</code> the schema for field must be <code>int64</code></em></p>
</li>
</ul>
</li>
</ul>
<h2 id="adding-static-code-widgets-to-the-sidebar">Adding static code / widgets to the sidebar</h2>
<h3 id="use-case_2">Use Case:</h3>
<p>Suppose you want to add default WooCommerce widgets like <em>Top Rated Products</em> below the filters</p>
<h3 id="how-to-do-it_2">How to do it:</h3>
<h4 id="use-cm_tsfwc_filter_panel_output-hook">Use <code>cm_tsfwc_filter_panel_output</code> hook</h4>
<pre><code>add_action( 'cm_tsfwc_filter_panel_output', 'mytheme_add_widgets',40 );

function mytheme_add_widgets() {
    the_widget( 'WC_Widget_Top_Rated_Products' );
}

</code></pre>
<h2 id="removing-attribute-filter">Removing attribute filter</h2>
<h3 id="use-case_3">Use Case:</h3>
<p>Suppose you want to remove Filter by <code>size</code> filter. </p>
<h4 id="use-cm_tsfwc_attribute_facet_skip-hook">Use <code>cm_tsfwc_attribute_facet_skip</code> hook</h4>
<pre><code>add_filter( 'cm_tsfwc_attribute_facet_skip', 'mytheme_hide_attribute_facet' );

function mytheme_hide_attribute_facet() {
    return ['size']; // Value should be the attribute value registered in WooCommerce
}
</code></pre>
<h2 id="changing-attribute-widget-type">Changing attribute widget type</h2>
<h3 id="changing-type-of-widget-in-category-filter">Changing type of widget in Category filter</h3>
<pre><code>function your_slug_change_cat_filter_type( $filterType ) {

    $filterType = 'menu';

    return $filterType;
}

add_filter( 'cm_tsfwc_category_filter_type', 'your_slug_change_cat_filter_type' );
</code></pre>
<p>** Acceptable filter type = <code>refinementList</code>, <code>menu</code> **</p>
<h3 id="changing-type-of-widget-in-price-filter">Changing type of widget in Price filter</h3>
<pre><code>function your_slug_change_price_filter_type( $filterType ) {

    $filterType = 'rangeSlider';

    return $filterType;
}

add_filter( 'cm_tsfwc_price_filter_type', 'your_slug_change_price_filter_type' );
</code></pre>
<p>** Acceptable filter type = <code>rangeSlider</code>, <code>rangeInput</code> **</p>
<h3 id="changing-type-of-widget-in-rating-filter">Changing type of widget in Rating filter</h3>
<pre><code>function your_slug_change_rating_filter_type( $filterType ) {

    $filterType = 'rangeSlider';

    return $filterType;
}

add_filter( 'cm_tsfwc_rating_filter_type', 'your_slug_change_rating_filter_type' );
</code></pre>
<p>** Acceptable filter type = <code>ratingMenu</code>, <code>rangeSlider</code>, <code>rangeInput</code> **</p>
<h3 id="changing-type-of-widget-in-attribute-filters">Changing type of widget in Attribute filters</h3>
<pre><code>function your_slug_change_attribute_filter_type( $filterType, $attributeName ) {

    if ( $attributeName == 'size' ) {
        $filterType = 'menu';
    }

    return $filterType;
}

add_filter( 'cm_tsfwc_attribute_filter_type', 'your_slug_change_attribute_filter_type', 10, 2 );
</code></pre>
<p>** Acceptable filter type = <code>refinementList</code>, <code>menu</code> <code>rangeInput</code>, <code>rangeSlider</code> **</p>
<p><em>Note:  For <code>rangeSlider</code> and <code>rangeInput</code> the schema for field must be <code>int64</code></em></p>
<h2 id="addingchanging-facets-settings">Adding/changing facets settings</h2>
<h3 id="changing-facet-settings-in-category-filter">Changing facet settings in Category filter</h3>
<pre><code>function your_slug_change_facet_setting( $filterSettings ) {

    $filterSettings = [ 'searchable' =&gt; true ];

    return $filterSettings;
}

add_filter( 'cm_tsfwc_category_facet_settings', 'your_slug_change_facet_setting' );
</code></pre>
<p>See <a href="https://www.algolia.com/doc/api-reference/widgets/refinement-list/js/" target="_blank">here</a> for available options.</p>
<p><em>Note: <code>container</code> and <code>attribute</code> are not overridable</em></p>
<h3 id="changing-facet-settings-in-price-filter">Changing facet settings in Price filter</h3>
<pre><code>function your_slug_change_facet_setting( $filterSettings ) {

    $filterSettings = [ 'pips' =&gt; false ];

    return $filterSettings;
}

add_filter( 'cm_tsfwc_price_facet_settings', 'your_slug_change_facet_setting' );
</code></pre>
<p>See <a href="https://www.algolia.com/doc/api-reference/widgets/range-slider/js/" target="_blank">here</a> for available options.</p>
<p><em>Note: <code>container</code> and <code>attribute</code> are not overridable</em></p>
<h3 id="changing-facet-settings-in-rating-filter">Changing facet settings in Rating filter</h3>
<pre><code>function your_slug_change_facet_setting( $filterSettings ) {

    $filterSettings = [ 'max' =&gt; 5 ];

    return $filterSettings;
}

add_filter( 'cm_tsfwc_rating_facet_settings', 'your_slug_change_facet_setting' );
</code></pre>
<p>See <a href="https://www.algolia.com/doc/api-reference/widgets/rating-menu/js/" target="_blank">here</a> for available options.</p>
<h3 id="changing-facet-settings-in-custom-attribute-filter">Changing facet settings in Custom Attribute filter</h3>
<pre><code>function your_slug_change_facet_setting( $filterSettings, $attrName ) {

    if( 'color' == $attrName ) {
        $filterSettings = [ 'searchable' =&gt; true ];
    }

    return $filterSettings;
}

add_filter( 'cm_tsfwc_attribute_facet_settings', 'your_slug_change_facet_setting', 10, 2 );
</code></pre>
<p>See <a href="https://www.algolia.com/doc/api-reference/widgets/refinement-list/js/" target="_blank">here</a> for available options.</p>
<p><em>Note: <code>container</code> and <code>attribute</code> are not overridable</em></p>
<h2 id="wpml-integration">WPML Integration</h2>
<p>As of version 1.2.4 of Typesense search for WooCommerce - the plugin is compatible with WPML and adds features to integrate with WPML + WooCommerce
The plugins required for WPML Integration are :</p>
<h3 id="pre-requisites">Pre-requisites</h3>
<ul>
<li><a href="https://wpml.org/documentation/related-projects/woocommerce-multilingual/">WooCommerce Multilingual</a></li>
<li><a href="https://wpml.org/">WPML 4.4.11 or aboves</a></li>
<li>WPML String Translation</li>
<li>WPML Translation Management (not needed for WooCommerce 3.9.0)</li>
<li>Typesense Search for WooCommerce</li>
</ul>
<p>If you want to use different media (images) for different translations of a product, you need to install <a href="https://wpml.org/documentation/getting-started-guide/media-translation/">WPML Media</a>.</p>
<h3 id="wpml-translation-modes-and-tools">WPML Translation modes and tools</h3>
<p>There are two different translation modes while using WPML. Please see WPML documentation for detailed information.</p>
<ul>
<li><a href="https://wpml.org/documentation/getting-started-guide/#translate-everything">Translate Everything</a> :
  All of the sites main content will be automatically translated into all secondary languages as content is published
  or updated. Translations can then be reviewed on the front-end and edited by the user (or local translator) if
  needed.</li>
<li><a href="https://wpml.org/documentation/getting-started-guide/#translate-everything">Translate Some</a> :
  Users can pick and choose what to translate, when to translate it, and who will translate it.
  This mode allows for content to be translated manually, translated via WPMLs Advanced Translation Editor, translated by professional translation services , or even translated
  by a team of local translators.</li>
</ul>
<h3 id="translating-content">Translating Content:</h3>
<p>For translation of content - there is nothing new you need to do on the typesense plugin. Based on your setup the WooCommerce Products, Pages (checkout, cart, my-account etc), translations are handled by the WooCommerce Multilingual plugin - please see <a href="https://wpml.org/documentation/related-projects/woocommerce-multilingual/#translating-products">translating products</a></p>
<p>What is required for Typesense integration is only on initial installation. You would need to index your products for each language you have.</p>
<h3 id="indexing-products_1">Indexing Products:</h3>
<p>To index products you will need to go to WP Admin &gt; Typesense
Here you will be shown the Typesense Search Config settings and you can index the products.
The only difference here is to switch language on your admin screen for each of your language to index your products.
This step - is a one time step - meaning it only needs to be done once - when the plugin is initially configured.
Please see video for a small walk through.</p>
<div style="padding:55.77% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/696013350?h=1446c77049&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="Indexing Products - WPML Integration"></iframe></div>
<script src="https://player.vimeo.com/api/player.js"></script>
<p>Once the indexing is complete, all your current products will show up in the shop and users will be show the products based on the current language the user has selected.
For new products - they will be indexed to the correct translation - when they are added / updated. And will be removed if they are deleted / status visibility of product is changed.</p>
<h3 id="translating-plugin-strings">Translating Plugin Strings</h3>
<p>Some strings are hardcoded into the plugin and will require string translation. You can see detailed documentation for string translation <a href="https://wpml.org/documentation/getting-started-guide/string-translation/">here</a>.
Please see this short video on how to translate strings.</p>
<div style="padding:55.77% 0 0 0;position:relative;"><iframe src="https://player.vimeo.com/video/696020799?h=790e135fe5&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen style="position:absolute;top:0;left:0;width:100%;height:100%;" title="translating-plugin-strings"></iframe></div>
<script src="https://player.vimeo.com/api/player.js"></script>

<p><em>Note: <code>container</code> and <code>attribute</code> are not overridable</em></p>
<h2 id="making-category-menu-filter-a-hierarchical-menu">Making category menu filter a hierarchical menu</h2>
<p>Hierarchical menu is a navigaton based on a hierarchy of attributes like category and it's subcategories. See below for example:</p>
<p><img alt="Hierarchical Menu" src="../img/hierarchical-menu.png" /></p>
<p>From version <code>1.3.5</code>, we have added an option to change the defalut category menu filter to hierarchical menu. Follow the below steps:</p>
<ol>
<li>Go to <strong>Dashboard -&gt; Typesense -&gt; WooCommerce</strong></li>
<li>In <strong>Advance Settings</strong>, enable the <strong>Make the default Category filter hierarchical menu</strong></li>
<li>Click <strong>Save Changes</strong> button</li>
<li>After saving, you need to <strong>Delete and Re-index</strong> your Products from <strong>Typesense-&gt;Typesense</strong> in <strong>Search Configuration</strong> tab.</li>
</ol>
<p><span style="color: maroon;"><em>Please note that enabling this option will be resource heavy and may make your backend slow.</em></span></p>
<p><em>This is because WooCommerce does not provide the default hierarchy of the products' categories and subcategories. So we have to manually query all the categoires and make a hierarchy which in itself is a heavy process. Further more, on adding, updating and deleting of a category, we have to repeat the proess and index again.</em></p>
<h2 id="additional-search-parameters-for-default-search-configuration">Additional search parameters for default search configuration</h2>
<p>From version <code>1.3.7</code>, you can configure additional search parameters for both <strong>Instant search</strong> and <strong>Autocomplete</strong> using the filter hooks mentioned below:</p>
<p><code>cm_tsfwc_additional_search_params</code> -  Configure instant search additional search parameters</p>
<p><code>cm_tsfwc_additional_autocomplete_params</code> - Configure autocomplete search additional search parameters</p>
<p>Example code:</p>
<pre><code>add_filter( 'cm_tsfwc_additional_search_params', 'theme_slug_alter_search_params' );
function theme_slug_alter_search_params() {
    return [
        'hidden_hits' =&gt; 3662,
        // 'query_by_weights' =&gt; '1,2', 
        // 'query_by' =&gt; &quot;post_content,post_title&quot;,
        // 'sort_by' =&gt; 'total_sales:asc', // work only with numerical fields
        // 'filter_by' =&gt; 'post_title: test',
        // 'facet_by' =&gt; 'category,prices', // can not override so dont work
        // 'max_facet_values' =&gt; 1, // can not override so don't work
        // 'facet_query' =&gt; 'category_lvl0: Alaram',
        // 'num_typos' =&gt; 2,
        // 'page' =&gt; 2, // cannot override so don't work
        // 'group_by' =&gt; 'category',
        // 'highlightFullFields' =&gt; 'post_title,post_content,test',
        // 'include_fields' =&gt; 'price,prices',
        // 'pinned_hits' =&gt; '3662:2',
    ];
}
</code></pre>
<p>You can refer here: <a href="https://typesense.org/docs/0.23.1/api/search.html#search-parameters">https://typesense.org/docs/0.23.1/api/search.html#search-parameters</a> for additional parameters. </p>
<p><em>Note: Some parameters like <code>facet_by, q, max_facet_values, page</code> can not be overwritten. Others can be passed as required.</em></p>
<h2 id="search-only-after-certain-character-length">Search only after certain character length</h2>
<p>From version <code>1.4.8</code>, you can configure search to be triggered after certain characters are typed on search bar. The new filter introduced is  <code>cm_tsfwc_search_query_length</code></p>
<p>You can use the hook like below. The below code triggers search only when 4 character is typed on search bar:</p>
<pre><code>add_filter( 'cm_tsfwc_search_query_length', 'your_slug_serach_after_char_count' ); 

function your_slug_serach_after_char_count( $count ) {
    $count = 4;
    return $count;
}

</code></pre>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>